# üéØ Desafio Backend

> Neste projeto eu desenvolvi uma API REST para solucionar os desafios de l√≥gica de neg√≥cios propostos envolvendo c√°lculo de comiss√µes, controle de estoque e c√°lculo de juros compostos.

## üöÄ Tecnologias

| Tecnologia | Vers√£o |
|-----------|--------|
| **Java** | 17+ |
| **Spring Boot** | 3.x (Web) |
| **Maven** | 3.x+ |
| **Lombok** | Latest |

## üìã Funcionalidades

### üí∞ C√°lculo de Comiss√µes de Vendas

Processa uma lista de vendas e calcula a comiss√£o total por vendedor baseada nas seguintes regras:

- Vendas abaixo de R$ 100,00: **Sem comiss√£o**
- Vendas entre R\$ 100,00 e R$ 499,99: **1% de comiss√£o**
- Vendas a partir de R$ 500,00: **5% de comiss√£o**

### üì¶ Controle de Estoque (In-Memory)

Gerencia a entrada e sa√≠da de produtos, validando se h√° estoque suficiente para sa√≠das.

- Mant√©m o estado dos produtos em mem√≥ria
- Gera um identificador √∫nico para cada movimenta√ß√£o
- Possui funcionalidade de **Reset** para facilitar testes manuais

### üìä C√°lculo de Juros

Calcula o valor atualizado de uma d√≠vida baseada em dias de atraso.

- Taxa de multa: **2,5% ao dia** (Juros simples sobre o valor original)

---

## üõ†Ô∏è Como Rodar o Projeto

### Pr√©-requisitos

- Java JDK 17+ instalado
- Maven instalado

### Passo a Passo

1. Clone o reposit√≥rio:

```bash
git clone https://github.com/kyso1/desafio-backend-spring.git
```

1. Entre na pasta do projeto:

```bash
cd desafio-backend-spring
```

1. Execute a aplica√ß√£o via Maven:

```bash
mvn spring-boot:run
```

> A aplica√ß√£o iniciar√° na porta 8080 (ou 8081 se configurado no `application.properties`).

---

## üîå Documenta√ß√£o da API (Endpoints)

Abaixo est√£o os exemplos de requisi√ß√£o para testar cada exerc√≠cio.

### üí∞ Calcular Comiss√µes (Exerc√≠cio 1)

Recebe uma lista de vendas e retorna o total de comiss√£o por vendedor.

**Endpoint:** `POST /api/desafio/comissoes`

**Exemplo de Body (JSON):**

```json
{
  "vendas": [
    { "vendedor": "Jo√£o Silva", "valor": 1200.50 },
    { "vendedor": "Jo√£o Silva", "valor": 950.75 },
    { "vendedor": "Maria Souza", "valor": 90.00 }
  ]
}
```

**Exemplo de Resposta:**

```json
{
  "Jo√£o Silva": 107.56,
  "Maria Souza": 0.00
}
```

---

### üì¶ Movimentar Estoque (Exerc√≠cio 2)

Realiza a entrada ou sa√≠da de mercadorias.

**Endpoint:** `POST /api/desafio/estoque/movimentar`

**Exemplo de Body (JSON) - Entrada:**

```json
{
  "codigoProduto": 101,
  "descricaoMovimentacao": "Entrada NF 550",
  "tipo": "ENTRADA",
  "quantidade": 50
}
```

**Exemplo de Body (JSON) - Sa√≠da:**

```json
{
  "codigoProduto": 104,
  "descricaoMovimentacao": "Venda Balc√£o",
  "tipo": "SAIDA",
  "quantidade": 20
}
```

**Resetar Estoque (Apenas para Testes):**

Como o banco √© em mem√≥ria, use este endpoint para voltar aos valores originais do exerc√≠cio.

**Endpoint:** `POST /api/desafio/estoque/reset`

---

### üìÖ Calcular Juros (Exerc√≠cio 3)

Calcula o valor final de uma conta com base na data de vencimento.

**Endpoint:** `GET /api/desafio/juros`

**Par√¢metros (Query Params):**

- `valor`: Valor original da d√≠vida (ex: 100.00)
- `vencimento`: Data de vencimento no formato YYYY-MM-DD

**Exemplo de URL:**

```bash
http://localhost:8080/api/desafio/juros?valor=100.00&vencimento=2023-01-01
```

---

## üß™ Testes

Os testes podem ser realizados via **Postman** ou **Insomnia** importando as URLs e JSONs descritos acima.

### üìÆ Guia Completo: Testando com Postman

#### 1Ô∏è‚É£ Instalar e Configurar Postman

1. Baixe o Postman em: [https://www.postman.com/downloads/](https://www.postman.com/downloads/)
2. Instale e abra a aplica√ß√£o
3. Crie uma nova cole√ß√£o clicando em `+ New` ‚Üí `Collection`

#### 2Ô∏è‚É£ Testando o Endpoint de Comiss√µes

1. Clique em `+ Add request`
2. Configure:
   - **M√©todo:** `POST`
   - **URL:** `http://localhost:8080/api/desafio/comissoes`
   - **Body:** Selecione `raw` e escolha `JSON`
   - Copie e cole:

```json
{
  "vendas": [
    { "vendedor": "Jo√£o Silva", "valor": 1200.50 },
    { "vendedor": "Jo√£o Silva", "valor": 950.75 },
    { "vendedor": "Maria Souza", "valor": 90.00 }
  ]
}
```

1. Clique em `Send` para executar
2. Voc√™ deve receber uma resposta similar a:

```json
{
  "Jo√£o Silva": 107.56,
  "Maria Souza": 0.00
}
```

#### 3Ô∏è‚É£ Testando o Endpoint de Estoque

**Movimenta√ß√£o de Entrada:**

1. Crie uma nova request `POST`
2. Configure:
   - **URL:** `http://localhost:8080/api/desafio/estoque/movimentar`
   - **Body (raw - JSON):**

```json
{
  "codigoProduto": 101,
  "descricaoMovimentacao": "Entrada NF 550",
  "tipo": "ENTRADA",
  "quantidade": 50
}
```

1. Clique em `Send`

**Movimenta√ß√£o de Sa√≠da:**

1. Crie uma nova request `POST`
2. Configure:
   - **URL:** `http://localhost:8080/api/desafio/estoque/movimentar`
   - **Body (raw - JSON):**

```json
{
  "codigoProduto": 101,
  "descricaoMovimentacao": "Venda Balc√£o",
  "tipo": "SAIDA",
  "quantidade": 20
}
```

1. Clique em `Send`

**Resetar Estoque:**

1. Crie uma nova request `POST`
2. Configure:
   - **URL:** `http://localhost:8080/api/desafio/estoque/reset`
3. Clique em `Send`

#### 4Ô∏è‚É£ Testando o Endpoint de Juros

1. Crie uma nova request `GET`
2. Configure:
   - **URL:** `http://localhost:8080/api/desafio/juros?valor=100.00&vencimento=2023-01-01`
3. Clique em `Send`
4. Voc√™ receber√° o valor atualizado da d√≠vida com os juros calculados

#### üí° Dicas √öteis

- **Salvar requisi√ß√µes:** Todas as requests s√£o salvas automaticamente na cole√ß√£o
- **Ambiente:** Crie um ambiente no Postman com a vari√°vel `base_url = http://localhost:8080` para facilitar
- **Teste r√°pido:** Use `Ctrl + Enter` para enviar requisi√ß√µes rapidamente
- **Hist√≥rico:** Todas as requisi√ß√µes aparecem no hist√≥rico (aba History)

---
